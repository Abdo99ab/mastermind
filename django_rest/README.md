# Mastermind Django Rest API
This repository contains a DJANGO REST API for the Mastermind game owned by [Abderrahmane Hammia](mailto:fa_hammia@esi.dz). The project was initially started based on a technical test created by [Inari.io](https://www.inari.io/)
The project was deployed on pythonanywhere, you can test it via [this link](https://fahammia.pythonanywhere.com/api/v1/docs/)
# Get Started
* Make sure you have *docker* and *docker-compose* installed
* Make the *entrypoint.sh* excutable
* Create .env file with *DJANGO_ENV* and *SECRET_KEY* variables
* Run ```docker-compose up --build```
* Test the endpoints using port 8000
* The documentation is available at */api/v1/docs* or online via [this link](https://fahammia.pythonanywhere.com/api/v1/docs/)
# Content
## django_rest folder
This folder contains configuration files for the project
```
urls.py (register admin paths and mastermind paths)
settings (folder which contains project settings with both environments separated)
```
## mastermind folder
The mastermind folder contains our rest api app for the mastermind game which mainly consists of the next files and folders
```
models.py (Game and Guess models)
serializers.py (Game and Guess serializers)
views.py (endpoint views)
urls.py (endpoint paths)
tests (testcases)
```
## Endpoints
The main endpoint for the api will be */api/v1/*. All available endpoints are explained at */api/v1/docs*
```
/api/v1/docs # contains the API documentation generated by coreapi
/api/v1/statuses/
/api/v1/game-state/{id}/
/api/v1/games/
/api/v1/games/{id}/
/api/v1/games/{id}/guesses/
/api/v1/games/{id}/guesses/{id}/
```
Here are the required endpoints description
```
1. Create a new game: POST /api/v1/games/
    Request body
        guess_limit: must be non null positive integer
2. Create a new guess: POST /api/v1/games/{game_pk}/guesses/
    game_pk: ID of the game
    Request body
        sequence: must be non null string with 4 characters from [b,y,w,o,r,g]
3. Get current state of the game: GET /api/v1/game-state/{id}
    id: ID of the game
```
To ensure using the right type and format of request data, validators are being used (inside *serializers.py*)
## Unit Tests
All the unit tests are created using *django.test*
```
test_models.py (GameTest, GuessTest)
test_views.py (StatusViewTests, GameStateViewTests, GameViewTests, GuessViewTests)
```